/* portfolio - 1.0.0
* http://janicbeauchemin.com
* Copyright (c) 2013-07-18 Janic Beauchemin - http://janicbeauchemin.com */

var app=angular.module("portfolio",[]);app.config(function($routeProvider){$routeProvider.when("/",{templateUrl:"views/home.html",controller:"PortfolioHomeCtrl"}).otherwise({redirectTo:"/"})}),app.controller("PortfolioGlobalCtrl",function($scope,$http){$scope.getLanguage=function(language){$http.get("data/i18n/"+language+".json").success(function(data){$scope.copy=data}).error(function(data){console.log("error getting language copy from json file: "+data)})},$scope.changeLanguage=function(language){$scope.siteLanguage=language,$scope.getLanguage(language)},$scope.swapLanguage=function(){"en"==$scope.siteLanguage?$scope.changeLanguage("fr"):$scope.changeLanguage("en")},window.getComputedStyle||(window.getComputedStyle=function(el){return this.el=el,this.getPropertyValue=function(prop){var re=/(\-([a-z]){1})/g;return"float"==prop&&(prop="styleFloat"),re.test(prop)&&(prop=prop.replace(re,function(){return arguments[2].toUpperCase()})),el.currentStyle[prop]?el.currentStyle[prop]:null},this}),$.support.transition||($.fn.transition=$.fn.animate),$scope.device=window.getComputedStyle(document.body,":after").getPropertyValue("content"),$scope.siteLanguage="en",$scope.currentYear=(new Date).getFullYear(),$scope.getLanguage($scope.siteLanguage)}),app.controller("PortfolioHomeCtrl",function($scope,$http){$http.get("data/work.json").success(function(data){$scope.work=data,$.each($scope.work,function(index){$scope.work[index].images.selected=$scope.work[index].images.medium,"desktop"==$scope.device?$scope.work[index].images.selected=$scope.work[index].images.big:"mobile"==$scope.device&&($scope.work[index].images.selected=$scope.work[index].images.small)})}).error(function(data){console.log("error getting work from json file: "+data)})}),app.directive("smoothScroll",function(){return function(scope,element,attr){var offset=parseInt("-"+$("header").outerHeight(),10);element.on("click",function(e){e.preventDefault(),$.smoothScroll({scrollTarget:attr.smoothScroll,offset:offset,easing:"easeInOutExpo",speed:1e3})})}}),app.directive("fancybox",function(){return function(scope,element){element.fancybox({padding:0})}}),app.directive("menuActivation",function($timeout){return function(scope,element){var elName=element.attr("id"),menu=$("nav"),menuEl=menu.find("."+elName);$timeout(function(){element.waypoint(function(){menu.find(".active").removeClass("active"),menuEl.addClass("active")})},1e3)}}),app.directive("workHover",function(){return function(scope,element){element.on("mouseenter",function(){element.find(".info").stop(!0,!0).show(300,"easeInOutExpo",function(){element.find(".zoom").stop(!0,!0).show(300,"easeInOutExpo")})}),element.on("mouseleave",function(){element.find(".info").stop(!0,!0).hide(300,"easeInOutExpo",function(){element.find(".zoom").stop(!0,!0).hide(300,"easeInOutExpo")})})}}),app.directive("changeLanguage",function(){return function(scope,element,attrs){var language="en";attrs.changeLanguage&&(language=attrs.changeLanguage),element.on("click",function(e){e.preventDefault(),"swap"==language?scope.swapLanguage():scope.changeLanguage(language)})}}),app.directive("fitText",function(){return function(scope,element,attr){var maxSize="60px";attr.fitText&&(maxSize=attr.fitText),element.fitText(1,{maxFontSize:maxSize})}}),app.directive("skillPercentage",function(){return function(scope,element){var percentBar=element.find(".percent"),percentDiv=element.find(".right"),percentValue=0;scope.$watch(function(){percentValue=percentBar.attr("data-percent")}),element.waypoint(function(){var animateVal=setInterval(function(){var newWidth=Math.round(100*(percentBar.width()/element.width()));percentDiv.text(newWidth+"%")},20);percentBar.transition({width:percentValue+"%"},1100,function(){clearInterval(animateVal),percentDiv.text(percentValue+"%")})},{triggerOnce:!0,offset:"80%"})}}),app.directive("socialToggleIcons",function(){return function(scope,element){element.hover(function(){$(this).find(".active").stop(!0,!0).transition({opacity:"1"},300,"easeInOutExpo")},function(){$(this).find(".active").stop(!0,!0).transition({opacity:"0"},300,"easeInOutExpo")})}}),app.directive("vertAlign",function($timeout){return function(scope,element){function calculateHeight(){if("desktop"==scope.device){var height=element.height(),parentHeight=element.parent().height(),padding=(parentHeight-height)/2;element.css("padding-top",padding)}else element.css("padding-top","10px")}$timeout(function(){calculateHeight(),$(window).resize(function(){calculateHeight()})})}});
//@ sourceMappingURL=app/js/dest/main.map.js